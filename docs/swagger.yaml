basePath: /
definitions:
  ai-api-gateway_internal_application_dto.ChangePasswordRequest:
    properties:
      new_password:
        maxLength: 100
        minLength: 6
        type: string
      old_password:
        type: string
    required:
    - new_password
    - old_password
    type: object
  ai-api-gateway_internal_application_dto.ErrorInfo:
    properties:
      code:
        type: string
      details:
        additionalProperties: true
        type: object
      message:
        type: string
    type: object
  ai-api-gateway_internal_application_dto.GetUserProfileResponse:
    properties:
      balance:
        type: number
      created_at:
        type: string
      email:
        type: string
      full_name:
        type: string
      id:
        type: integer
      updated_at:
        type: string
      username:
        type: string
    type: object
  ai-api-gateway_internal_application_dto.LoginRequest:
    properties:
      password:
        maxLength: 100
        minLength: 6
        type: string
      username:
        maxLength: 50
        minLength: 3
        type: string
    required:
    - password
    - username
    type: object
  ai-api-gateway_internal_application_dto.LoginResponse:
    properties:
      access_token:
        type: string
      expires_in:
        type: integer
      refresh_token:
        type: string
      token_type:
        type: string
      user:
        $ref: '#/definitions/ai-api-gateway_internal_application_dto.UserInfo'
    type: object
  ai-api-gateway_internal_application_dto.RefreshTokenRequest:
    properties:
      refresh_token:
        type: string
    required:
    - refresh_token
    type: object
  ai-api-gateway_internal_application_dto.RefreshTokenResponse:
    properties:
      access_token:
        type: string
      expires_in:
        type: integer
      refresh_token:
        type: string
      token_type:
        type: string
    type: object
  ai-api-gateway_internal_application_dto.RegisterRequest:
    properties:
      email:
        type: string
      full_name:
        maxLength: 100
        type: string
      password:
        maxLength: 100
        minLength: 6
        type: string
      username:
        maxLength: 50
        minLength: 3
        type: string
    required:
    - email
    - password
    - username
    type: object
  ai-api-gateway_internal_application_dto.RegisterResponse:
    properties:
      created_at:
        type: string
      email:
        type: string
      full_name:
        type: string
      id:
        type: integer
      message:
        type: string
      username:
        type: string
    type: object
  ai-api-gateway_internal_application_dto.Response:
    properties:
      data: {}
      error:
        $ref: '#/definitions/ai-api-gateway_internal_application_dto.ErrorInfo'
      message:
        type: string
      success:
        type: boolean
      timestamp:
        type: string
    type: object
  ai-api-gateway_internal_application_dto.UsageResponse:
    properties:
      total_cost:
        example: 1.25
        type: number
      total_requests:
        example: 100
        type: integer
      total_tokens:
        example: 5000
        type: integer
    type: object
  ai-api-gateway_internal_application_dto.UserInfo:
    properties:
      email:
        type: string
      full_name:
        type: string
      id:
        type: integer
      username:
        type: string
    type: object
  ai-api-gateway_internal_application_dto.UserRechargeRequest:
    properties:
      amount:
        type: number
      description:
        type: string
    required:
    - amount
    type: object
  ai-api-gateway_internal_infrastructure_clients.AIChoice:
    properties:
      finish_reason:
        type: string
      index:
        type: integer
      message:
        $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.AIMessage'
      text:
        type: string
      tool_calls:
        description: Function calls in streaming mode
        items:
          $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.ToolCall'
        type: array
    type: object
  ai-api-gateway_internal_infrastructure_clients.AIError:
    properties:
      code:
        type: string
      message:
        type: string
      type:
        type: string
    type: object
  ai-api-gateway_internal_infrastructure_clients.AIMessage:
    properties:
      content:
        example: Hello, how are you?
        type: string
      name:
        description: Name of the function for tool messages
        type: string
      role:
        enum:
        - system
        - user
        - assistant
        - tool
        example: user
        type: string
      tool_call_id:
        description: ID of the tool call this message is responding to
        type: string
      tool_calls:
        description: Function calls made by assistant
        items:
          $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.ToolCall'
        type: array
    required:
    - role
    type: object
  ai-api-gateway_internal_infrastructure_clients.AIModel:
    properties:
      created:
        type: integer
      id:
        type: string
      object:
        type: string
      owned_by:
        type: string
      permission:
        items: {}
        type: array
    type: object
  ai-api-gateway_internal_infrastructure_clients.AIResponse:
    properties:
      choices:
        items:
          $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.AIChoice'
        type: array
      created:
        type: integer
      error:
        $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.AIError'
      id:
        type: string
      model:
        type: string
      object:
        type: string
      usage:
        $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.AIUsage'
    type: object
  ai-api-gateway_internal_infrastructure_clients.AIUsage:
    properties:
      completion_tokens:
        type: integer
      prompt_tokens:
        type: integer
      total_tokens:
        type: integer
    type: object
  ai-api-gateway_internal_infrastructure_clients.ChatCompletionRequest:
    properties:
      max_tokens:
        example: 150
        type: integer
      messages:
        items:
          $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.AIMessage'
        minItems: 1
        type: array
      model:
        example: gpt-3.5-turbo
        type: string
      stream:
        example: false
        type: boolean
      temperature:
        example: 0.7
        type: number
      tool_choice:
        description: Tool choice strategy
      tools:
        description: Function call tools
        items:
          $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.Tool'
        type: array
      web_search:
        description: 是否启用联网搜索
        example: false
        type: boolean
    required:
    - messages
    - model
    type: object
  ai-api-gateway_internal_infrastructure_clients.CompletionRequest:
    properties:
      max_tokens:
        example: 150
        type: integer
      model:
        example: gpt-3.5-turbo
        type: string
      prompt:
        example: Once upon a time
        type: string
      stream:
        example: false
        type: boolean
      temperature:
        example: 0.7
        type: number
      web_search:
        description: 是否启用联网搜索
        example: false
        type: boolean
    required:
    - model
    - prompt
    type: object
  ai-api-gateway_internal_infrastructure_clients.Function:
    properties:
      description:
        example: Search for information
        type: string
      name:
        example: search
        type: string
      parameters:
        description: JSON Schema for function parameters
    type: object
  ai-api-gateway_internal_infrastructure_clients.FunctionCall:
    properties:
      arguments:
        description: JSON string of function arguments
        type: string
      name:
        example: search
        type: string
    type: object
  ai-api-gateway_internal_infrastructure_clients.ModelsResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.AIModel'
        type: array
      object:
        type: string
    type: object
  ai-api-gateway_internal_infrastructure_clients.Tool:
    properties:
      function:
        $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.Function'
      type:
        example: function
        type: string
    type: object
  ai-api-gateway_internal_infrastructure_clients.ToolCall:
    properties:
      function:
        $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.FunctionCall'
      id:
        example: call_123
        type: string
      type:
        example: function
        type: string
    type: object
  internal_presentation_handlers.ActionRequest:
    properties:
      customId:
        type: string
      notifyHook:
        type: string
      state:
        type: string
      taskId:
        type: string
    required:
    - customId
    - taskId
    type: object
  internal_presentation_handlers.BlendRequest:
    properties:
      base64Array:
        items:
          type: string
        maxItems: 5
        minItems: 2
        type: array
      botType:
        type: string
      dimensions:
        type: string
      notifyHook:
        type: string
      state:
        type: string
    required:
    - base64Array
    type: object
  internal_presentation_handlers.CancelRequest:
    properties:
      taskId:
        type: string
    required:
    - taskId
    type: object
  internal_presentation_handlers.DescribeRequest:
    properties:
      base64:
        type: string
      botType:
        type: string
      notifyHook:
        type: string
      state:
        type: string
    required:
    - base64
    type: object
  internal_presentation_handlers.ImagineRequest:
    properties:
      base64Array:
        items:
          type: string
        type: array
      botType:
        type: string
      notifyHook:
        type: string
      prompt:
        type: string
      state:
        type: string
    required:
    - prompt
    type: object
  internal_presentation_handlers.MJButton:
    properties:
      customId:
        type: string
      emoji:
        type: string
      label:
        type: string
      style:
        type: integer
      type:
        type: integer
    type: object
  internal_presentation_handlers.MJResponse:
    properties:
      code:
        type: integer
      description:
        type: string
      properties:
        additionalProperties: true
        type: object
      result: {}
    type: object
  internal_presentation_handlers.MJTaskResponse:
    properties:
      action:
        type: string
      buttons:
        items:
          $ref: '#/definitions/internal_presentation_handlers.MJButton'
        type: array
      description:
        type: string
      failReason:
        type: string
      finishTime:
        type: integer
      id:
        type: string
      imageUrl:
        type: string
      progress:
        type: string
      prompt:
        type: string
      promptEn:
        type: string
      properties:
        additionalProperties: true
        type: object
      startTime:
        type: integer
      state:
        type: string
      status:
        type: string
      submitTime:
        type: integer
    type: object
  internal_presentation_handlers.ModalRequest:
    properties:
      base64:
        type: string
      botType:
        type: string
      maskBase64:
        type: string
      notifyHook:
        type: string
      prompt:
        type: string
      state:
        type: string
    required:
    - base64
    - maskBase64
    - prompt
    type: object
host: api-dev.718ai.cn
info:
  contact:
    email: support@example.com
    name: API Support
    url: https://example.com/support
  description: AI API Gateway provides unified access to multiple AI services including
    OpenAI-compatible chat completions, Midjourney image generation, and more.
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://example.com/terms
  title: AI API Gateway
  version: 1.0.0
paths:
  /auth/change-password:
    post:
      consumes:
      - application/json
      description: 修改当前用户的密码
      parameters:
      - description: 修改密码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ai-api-gateway_internal_application_dto.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 修改成功
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "401":
          description: 未认证或旧密码错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      security:
      - BearerAuth: []
      summary: 修改用户密码
      tags:
      - 认证
  /auth/login:
    post:
      consumes:
      - application/json
      description: 使用用户名和密码进行登录
      parameters:
      - description: 登录请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ai-api-gateway_internal_application_dto.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 登录成功
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.LoginResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "401":
          description: 认证失败
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      summary: 用户登录
      tags:
      - 认证
  /auth/profile:
    get:
      description: 获取当前登录用户的详细信息
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.GetUserProfileResponse'
        "401":
          description: 未认证
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      security:
      - BearerAuth: []
      summary: 获取当前用户资料
      tags:
      - 认证
  /auth/recharge:
    post:
      consumes:
      - application/json
      description: 用户为自己的账户充值
      parameters:
      - description: 充值请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ai-api-gateway_internal_application_dto.UserRechargeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 充值成功
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.GetUserProfileResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "401":
          description: 未认证
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      security:
      - BearerAuth: []
      summary: 用户充值
      tags:
      - 认证
  /auth/refresh:
    post:
      consumes:
      - application/json
      description: 使用刷新令牌获取新的访问令牌
      parameters:
      - description: 刷新令牌请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ai-api-gateway_internal_application_dto.RefreshTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 刷新成功
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.RefreshTokenResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "401":
          description: 刷新令牌无效
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      summary: 刷新访问令牌
      tags:
      - 认证
  /auth/register:
    post:
      consumes:
      - application/json
      description: 注册新用户账户
      parameters:
      - description: 注册请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ai-api-gateway_internal_application_dto.RegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: 注册成功
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.RegisterResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "409":
          description: 用户名或邮箱已存在
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      summary: 用户注册
      tags:
      - 认证
  /health:
    get:
      description: 检查服务整体健康状态，包括数据库和AI提供商连接状态
      produces:
      - application/json
      responses:
        "200":
          description: 健康检查通过
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "503":
          description: 健康检查失败
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      summary: 健康检查
      tags:
      - 健康检查
  /health/live:
    get:
      description: 检查服务是否正在运行
      produces:
      - application/json
      responses:
        "200":
          description: 服务存活
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      summary: 存活检查
      tags:
      - 健康检查
  /health/ready:
    get:
      description: 检查服务是否已准备好接收请求
      produces:
      - application/json
      responses:
        "200":
          description: 服务就绪
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "503":
          description: 服务未就绪
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      summary: 就绪检查
      tags:
      - 健康检查
  /health/stats:
    get:
      description: 获取系统运行统计信息
      produces:
      - application/json
      responses:
        "200":
          description: 统计信息
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "500":
          description: 获取统计失败
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      summary: 系统统计
      tags:
      - 健康检查
  /health/version:
    get:
      description: 获取服务版本信息
      produces:
      - application/json
      responses:
        "200":
          description: 版本信息
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      summary: 版本信息
      tags:
      - 健康检查
  /metrics:
    get:
      description: 获取Prometheus格式的监控指标
      produces:
      - text/plain
      responses:
        "200":
          description: Prometheus指标
          schema:
            type: string
      summary: 监控指标
      tags:
      - 监控
  /mj/submit/action:
    post:
      consumes:
      - application/json
      description: 执行 U1-U4、V1-V4 等操作
      parameters:
      - description: API密钥
        in: header
        name: mj-api-secret
        required: true
        type: string
      - description: 操作请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_presentation_handlers.ActionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
      summary: 执行操作
      tags:
      - Midjourney
  /mj/submit/blend:
    post:
      consumes:
      - application/json
      description: 上传2-5张图像并混合成新图像
      parameters:
      - description: API密钥
        in: header
        name: mj-api-secret
        required: true
        type: string
      - description: 混合请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_presentation_handlers.BlendRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
      summary: 混合图像
      tags:
      - Midjourney
  /mj/submit/cancel:
    post:
      consumes:
      - application/json
      description: 取消正在进行的任务
      parameters:
      - description: API密钥
        in: header
        name: mj-api-secret
        required: true
        type: string
      - description: 取消请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_presentation_handlers.CancelRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
      summary: 取消任务
      tags:
      - Midjourney
  /mj/submit/describe:
    post:
      consumes:
      - application/json
      description: 上传图像并生成四个提示词
      parameters:
      - description: API密钥
        in: header
        name: mj-api-secret
        required: true
        type: string
      - description: 描述请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_presentation_handlers.DescribeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
      summary: 描述图像
      tags:
      - Midjourney
  /mj/submit/imagine:
    post:
      consumes:
      - application/json
      description: 根据提示词生成图像，类似 /imagine 命令
      parameters:
      - description: API密钥
        in: header
        name: mj-api-secret
        required: true
        type: string
      - description: 图像生成请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_presentation_handlers.ImagineRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
      summary: 生成图像
      tags:
      - Midjourney
  /mj/submit/modal:
    post:
      consumes:
      - application/json
      description: 对图像进行局部重绘
      parameters:
      - description: API密钥
        in: header
        name: mj-api-secret
        required: true
        type: string
      - description: 局部重绘请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_presentation_handlers.ModalRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
      summary: 局部重绘
      tags:
      - Midjourney
  /mj/task/{id}/fetch:
    get:
      consumes:
      - application/json
      description: 获取任务的当前状态和结果
      parameters:
      - description: API密钥
        in: header
        name: mj-api-secret
        required: true
        type: string
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJTaskResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_presentation_handlers.MJResponse'
      summary: 获取任务结果
      tags:
      - Midjourney
  /v1/chat/completions:
    post:
      consumes:
      - application/json
      description: 创建聊天补全请求，兼容OpenAI API格式。支持流式和非流式响应。
      parameters:
      - description: 聊天补全请求
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.ChatCompletionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 聊天补全响应
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.AIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "401":
          description: 认证失败
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "429":
          description: 请求过于频繁
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      security:
      - ApiKeyAuth: []
      summary: 聊天补全
      tags:
      - AI接口
  /v1/completions:
    post:
      consumes:
      - application/json
      description: 创建文本补全请求，兼容OpenAI API格式
      parameters:
      - description: 文本补全请求
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.CompletionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 文本补全响应
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.AIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "401":
          description: 认证失败
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "429":
          description: 请求过于频繁
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      security:
      - ApiKeyAuth: []
      summary: 文本补全
      tags:
      - AI接口
  /v1/models:
    get:
      description: 获取可用的AI模型列表
      produces:
      - application/json
      responses:
        "200":
          description: 模型列表
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_infrastructure_clients.ModelsResponse'
        "401":
          description: 认证失败
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      security:
      - ApiKeyAuth: []
      summary: 列出模型
      tags:
      - AI接口
  /v1/usage:
    get:
      description: 获取当前用户的API使用统计
      produces:
      - application/json
      responses:
        "200":
          description: 使用统计信息
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.UsageResponse'
        "401":
          description: 认证失败
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/ai-api-gateway_internal_application_dto.Response'
      security:
      - ApiKeyAuth: []
      summary: 使用统计
      tags:
      - AI接口
securityDefinitions:
  BearerAuth:
    description: 'Bearer token for API authentication. Format: ''Bearer {token}'''
    in: header
    name: Authorization
    type: apiKey
  MJApiSecret:
    description: API secret for Midjourney endpoints
    in: header
    name: mj-api-secret
    type: apiKey
swagger: "2.0"
